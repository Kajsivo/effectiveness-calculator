<head>
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>

</head>

<p>Welcome</p>
{{#if uploadSuccess}}
    File uploaded
{{/if}}


    <label for="month">Month:</label>
    <select id="month" name="month">
        <option selected disabled value="" style="display:none;">Choose month</option>
        <option value="1">January</option>
        <option value="2">February</option>
        <option value="3">March</option>
        <option value="4">April</option>
        <option value="5">May</option>
        <option value="6">June</option>
        <option value="7">July</option>
        <option value="8">August</option>
        <option value="9">September</option>
        <option value="10">October</option>
        <option value="11">November</option>
        <option value="12">December</option>
    </select>
    <label for="year">Year:</label>
    <select id="year" name="year">
        <option selected disabled value="" style="display:none;">Choose year</option>
        <option value="2017">2017</option>
        <option value="2018">2018</option>
        <option value="2019">2019</option>
        <option value="2020">2020</option>
        <option value="2021">2021</option>
        <option value="2022">2022</option>
    </select>
    Not needed for name and start date file!<br/>
<form id="uploadInvoiceFileForm" action="/uploadInvoiceFile" method="post" enctype="multipart/form-data">
    
        <label for="invoiceFile">Choose invoice file:</label>
        <input type="file" name="invoiceFile" id="invoiceFile"/>
        <input type="submit" value="Send" class="btn btn-primary"/>

</form>
<form id="uploadKeeperAndDebtorFileForm" action="/uploadKeeperAndDebtorFile" method="post" enctype="multipart/form-data">

        <label for="keeperAndDebtorFile">Choose keeper and debtor file:</label>
        <input type="file" name="keeperAndDebtorFile" id="keeperAndDebtorFile"/>
        <input type="submit" value="Send" class="btn btn-primary"/>
    
</form>
<form id="uploadBarricadeFileForm" action="/uploadBarricadeFile" method="post" enctype="multipart/form-data">

        <label for="barricadeFile">Choose barricade file:</label>
        <input type="file" name="barricadeFile" id="barricadeFile"/>
        <input type="submit" value="Send" class="btn btn-primary"/>

</form>
<br/><br/><br/>
<form id="uploadStartDateFile" action="/uploadStartDateFile" method="post" enctype="multipart/form-data">

    <label for="startDateFile">Choose start date file:</label>
    <input type="file" name="startDateFile" id="startDateFile"/>
    <input type="submit" value="Send" class="btn btn-primary"/>

</form>
<form id="uploadDomainFile" action="/uploadDomainFile" method="post" enctype="multipart/form-data">

        <label for="domainFile">Choose name file:</label>
        <input type="file" name="domainFile" id="domainFile"/>
        <input type="submit" value="Send" class="btn btn-primary"/>

</form>


<script>
    $('form').submit(function () {
        console.log(this.id);
        var formId = this.id;
        var month = document.getElementById("month");
        var selectedMonth = month.options[month.selectedIndex].value;
        var year = document.getElementById("year");
        var selectedYear = year.options[year.selectedIndex].value;
        if (selectedMonth && selectedYear && selectedMonth !== "" && selectedYear !== "") {
            var params = [
                {
                    name: "month",
                    value: selectedMonth
                },
                {
                    name: "year",
                    value: selectedYear
                }
            ];
            $.each(params, function (i, param) {
                $('<input />').attr('type', 'hidden')
                        .attr('name', param.name)
                        .attr('value', param.value)
                        .appendTo('#' + formId);
            });

            return true;
        }

    });

</script>
